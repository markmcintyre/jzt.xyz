!function i(l,r,a){function s(t,e){if(!r[t]){if(!l[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(o)return o(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=r[t]={exports:{}},l[t][0].call(n.exports,function(e){return s(l[t][1][e]||e)},n,n.exports,i,l,r,a)}return r[t].exports}for(var o="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){"use strict";n.isFullscreenSupported=function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled},n.attachFullscreenHandler=function(e,t){e.addEventListener("click",function(){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}),(document.fullscreenElement||document.webkitFullscreenElement)&&document.addEventListener("fullscreenchange",function(){e.checked=!1})}},{}],2:[function(e,t,n){"use strict";function i(e){var t=this;this.alertElement=e,this.types=["victory","game-over","file-management"],e.querySelector(".close").addEventListener("click",function(){t.alertElement.classList.remove("in")},!1)}i.prototype.callback=function(e,t){var n,i,l,r,a=this.alertElement.querySelector(".message"),s=this.alertElement.querySelector(".score"),o=this.alertElement.querySelector(".playtime"),u=s.querySelector(".value"),c=o.querySelector(".value"),d=this.alertElement.querySelector(".social-share"),m=this.alertElement.querySelector(".clipboard"),h=d.dataset.gameTitle,f=this;setTimeout(function(){if("victory"===e)a.innerHTML="Congratulations; youâ€™ve won!",n=Math.floor(t.time/36e5),i=Math.floor(t.time%36e5/6e4),l=(l=Math.floor(t.time%6e4/1e3))<9?"0"+l:l,i=i<9?"0"+i:i,n=n<9?"0"+n:n,o.style.display="block",c.innerHTML=n+":"+i+":"+l;else{if("game-over"!==e)return void f.alertElement.classList.remove("in");a.innerHTML="Better luck next time!",o.style.display="none"}r=t.score.toLocaleString("en"),u.innerHTML=r,d.addEventListener("click",function(){navigator.clipboard.writeText(`I just scored ${r} points playing ${h}! ${window.location} #JZT`),m.classList.add("active"),setTimeout(function(){m.classList.remove("active")},5e3)}),f.alertElement.classList.add("in")},"victory"===e||"game-over"===e?1e3:0)},n.HighScoreListener=i},{}],3:[function(e,t,n){"use strict";var s,o,u=e("./highscore").HighScoreListener,c=e("./settings").Settings,d=e("./fullscreen").isFullscreenSupported,m=e("./fullscreen").attachFullscreenHandler;s=document.getElementById("game-area"),o=s.querySelector(".start"),e=s.querySelector(".keyboard-required"),"ontouchstart"in document.documentElement&&e.classList.add("active"),o.addEventListener("click",function(){var t,n,e,i,l,r,a;s.removeChild(o),n=document.getElementById("settings-bar"),e=n.querySelector(".full-screen"),i=document.getElementById("game-area"),l=i.querySelector("canvas"),r=new u(i.querySelector(".alert")),a=i.getAttribute("data-jzt-world"),l.classList.add("active"),t=new jzt.Game({canvasElement:l,notificationListeners:[r],onLoadCallback:function(e){e?(t.run("/assets/data/jzt/"+a+".json"),t.observeSettings(new c(n))):(document.getElementById("unsupported-browser").style.display="block",l.parentNode.removeChild(l))}}),n.classList.remove("inactive"),d()?m(e,i):e.parentNode.removeChild(e)})},{"./fullscreen":1,"./highscore":2,"./settings":4}],4:[function(e,t,n){"use strict";function i(e){var t=this;if(!(this instanceof i))throw"Settings must be constructed with new";this.listenerCallbacks=[],this.audioMuteElement=e.querySelector(".mute"),this.audioVolumeElement=e.querySelector("input[name='audio-volume']"),this.languageElement=e.querySelector("select[name='language']"),this.audioMuteElement&&this.audioMuteElement.addEventListener("click",function(e){e=e.target.closest(".button");e.classList.toggle("active"),t.notify({audioMute:e.classList.contains("active")})}),this.audioVolumeElement&&this.audioVolumeElement.addEventListener("change",function(e){t.notify({audioVolume:parseFloat(e.target.value)/10})}),this.languageElement&&this.languageElement.addEventListener("change",function(e){t.notify({language:e.target.value})})}i.prototype.addListener=function(e){this.listenerCallbacks.push(e)},i.prototype.notify=function(e){for(var t=0;t<this.listenerCallbacks.length;t+=1)this.listenerCallbacks[t](e)},i.prototype.initialize=function(e){e.audioActive?(this.audioMuteElement&&(e.audioMute?this.audioMuteElement.classList.add("active"):this.audioMuteElement.classList.remove("active")),this.audioVolumeElement&&(this.audioVolumeElement.value=10*e.audioVolume)):(this.audioMuteElement&&this.audioMuteElement.classList.add("active"),this.audioVolumeElement&&(this.audioVolumeElement.disabled=!0)),this.languageElement&&(this.languageElement.value=e.language)},n.Settings=i},{}]},{},[3]);
