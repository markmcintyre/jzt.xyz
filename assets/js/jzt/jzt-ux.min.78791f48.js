!function l(i,r,o){function s(t,e){if(!r[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=r[t]={exports:{}},i[t][0].call(n.exports,function(e){return s(i[t][1][e]||e)},n,n.exports,l,i,r,o)}return r[t].exports}for(var u="function"==typeof require&&require,e=0;e<o.length;e++)s(o[e]);return s}({1:[function(e,t,n){"use strict";n.isFullscreenSupported=function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled},n.attachFullscreenHandler=function(e,t){function n(){document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement?(t.style.height="100%",t.style.width="100%"):(t.style.width="800px",t.style.height="640px"),e.checked=!1}e.addEventListener("click",function(){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()}),document.fullscreenEnabled?document.addEventListener("fullscreenchange",n):document.webkitFullscreenEnabled?document.addEventListener("webkitfullscreenchange",n):document.mozFullsSreenEnabled?document.addEventListener("mozfullscreenchange",n):document.msFullscreenEnabled&&document.addEventListener("msfullscreenchange",n)}},{}],2:[function(e,t,n){"use strict";function l(e){var t=this;this.alertElement=e,this.types=["victory","game-over","file-management"],e.querySelector(".close").addEventListener("click",function(){t.alertElement.classList.remove("in")},!1)}l.prototype.callback=function(e,t){var n,l,i,r,o,s,u,a=this.alertElement.querySelector(".message"),c=this.alertElement.querySelector(".score"),d=this.alertElement.querySelector(".playtime"),m=c.querySelector(".value"),h=d.querySelector(".value"),f=this.alertElement.querySelectorAll(".social-share"),g=this;setTimeout(function(){if("victory"===e)a.innerHTML="Congratulations; youâ€™ve won!",n=Math.floor(t.time/36e5),l=Math.floor(t.time%36e5/6e4),i=(i=Math.floor(t.time%6e4/1e3))<9?"0"+i:i,l=l<9?"0"+l:l,n=n<9?"0"+n:n,d.style.display="block",h.innerHTML=n+":"+l+":"+i;else{if("game-over"!==e)return void g.alertElement.classList.remove("in");a.innerHTML="Better luck next time!",d.style.display="none"}for(u=t.score.toLocaleString("en"),m.innerHTML=u,r=0;r<f.length;r+=1)o=f[r],s=o.getAttribute("data-uri-template"),o.href=s.replace("{url}",encodeURIComponent(document.URL)).replace("{score}",encodeURIComponent(u));g.alertElement.classList.add("in")},"victory"===e||"game-over"===e?1e3:0)},n.HighScoreListener=l},{}],3:[function(e,t,n){"use strict";var s,u,a=e("./highscore").HighScoreListener,c=e("./settings").Settings,d=e("./fullscreen").isFullscreenSupported,m=e("./fullscreen").attachFullscreenHandler;s=document.getElementById("game-area"),(u=document.querySelector("button")).addEventListener("click",function(){var t,e,n,l,i,r,o;s.removeChild(u),t=document.getElementById("settings-bar"),e=t.querySelector(".full-screen"),n=document.getElementById("game-area"),l=n.querySelector("canvas"),i=new a(n.querySelector(".alert")),r=n.getAttribute("data-jzt-world"),o=new jzt.Game({canvasElement:l,notificationListeners:[i],onLoadCallback:function(e){e?(o.run("/assets/data/jzt/"+r+".json"),o.observeSettings(new c(t))):(document.getElementById("unsupported-browser").style.display="block",l.parentNode.removeChild(l))}}),t.classList.remove("inactive"),d()?m(e,n):(e=e.parentNode).parentNode.removeChild(e)})},{"./fullscreen":1,"./highscore":2,"./settings":4}],4:[function(e,t,n){"use strict";function l(e){var t=this;if(!(this instanceof l))throw"Settings must be constructed with new";this.listenerCallbacks=[],this.audioMuteElement=e.querySelector(".mute"),this.audioVolumeElement=e.querySelector("input[name='audio-volume']"),this.languageElement=e.querySelector("select[name='language']"),this.audioMuteElement&&this.audioMuteElement.addEventListener("click",function(e){e=e.target.closest(".button");e.classList.toggle("active"),t.notify({audioMute:e.classList.contains("active")})}),this.audioVolumeElement&&this.audioVolumeElement.addEventListener("change",function(e){t.notify({audioVolume:parseFloat(e.target.value)/10})}),this.languageElement&&this.languageElement.addEventListener("change",function(e){t.notify({language:e.target.value})})}l.prototype.addListener=function(e){this.listenerCallbacks.push(e)},l.prototype.notify=function(e){for(var t=0;t<this.listenerCallbacks.length;t+=1)this.listenerCallbacks[t](e)},l.prototype.initialize=function(e){e.audioActive?(this.audioMuteElement&&(e.audioMute?this.audioMuteElement.classList.add("active"):this.audioMuteElement.classList.remove("active")),this.audioVolumeElement&&(this.audioVolumeElement.value=10*e.audioVolume)):(this.audioMuteElement&&this.audioMuteElement.classList.add("active"),this.audioVolumeElement&&(this.audioVolumeElement.disabled=!0)),this.languageElement&&(this.languageElement.value=e.language)},n.Settings=l},{}]},{},[3]);
