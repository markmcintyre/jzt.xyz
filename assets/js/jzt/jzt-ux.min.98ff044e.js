!function l(i,s,r){function o(t,e){if(!s[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=s[t]={exports:{}},i[t][0].call(n.exports,function(e){return o(i[t][1][e]||e)},n,n.exports,l,i,s,r)}return s[t].exports}for(var u="function"==typeof require&&require,e=0;e<r.length;e++)o(r[e]);return o}({1:[function(e,t,n){"use strict";n.isFullscreenSupported=function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled},n.attachFullscreenHandler=function(e,t){function n(){document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement?(t.style.height="100%",t.style.width="100%"):(t.style.width="800px",t.style.height="640px"),e.checked=!1}e.addEventListener("click",function(){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()}),document.fullscreenEnabled?document.addEventListener("fullscreenchange",n):document.webkitFullscreenEnabled?document.addEventListener("webkitfullscreenchange",n):document.mozFullsSreenEnabled?document.addEventListener("mozfullscreenchange",n):document.msFullscreenEnabled&&document.addEventListener("msfullscreenchange",n)}},{}],2:[function(e,t,n){"use strict";function l(e){var t=this;this.alertElement=e,this.types=["victory","game-over","file-management"],e.querySelector(".close").addEventListener("click",function(){t.alertElement.classList.remove("in")},!1)}l.prototype.callback=function(e,t){var n,l,i,s,r=this.alertElement.querySelector(".message"),o=this.alertElement.querySelector(".score"),u=this.alertElement.querySelector(".playtime"),a=o.querySelector(".value"),c=u.querySelector(".value"),d=this.alertElement.querySelector(".social-share"),m=this.alertElement.querySelector(".clipboard"),h=d.dataset.gameTitle,f=this;setTimeout(function(){if("victory"===e)r.innerHTML="Congratulations; youâ€™ve won!",n=Math.floor(t.time/36e5),l=Math.floor(t.time%36e5/6e4),i=(i=Math.floor(t.time%6e4/1e3))<9?"0"+i:i,l=l<9?"0"+l:l,n=n<9?"0"+n:n,u.style.display="block",c.innerHTML=n+":"+l+":"+i;else{if("game-over"!==e)return void f.alertElement.classList.remove("in");r.innerHTML="Better luck next time!",u.style.display="none"}s=t.score.toLocaleString("en"),a.innerHTML=s,d.addEventListener("click",function(){navigator.clipboard.writeText(`I just scored ${s} points playing ${h}! ${window.location} #JZT`),m.classList.add("active"),setTimeout(function(){m.classList.remove("active")},5e3)}),f.alertElement.classList.add("in")},"victory"===e||"game-over"===e?1e3:0)},n.HighScoreListener=l},{}],3:[function(e,t,n){"use strict";var o,u,a=e("./highscore").HighScoreListener,c=e("./settings").Settings,d=e("./fullscreen").isFullscreenSupported,m=e("./fullscreen").attachFullscreenHandler;o=document.getElementById("game-area"),(u=document.querySelector("button.start")).addEventListener("click",function(){var t,e,n,l,i,s,r;o.removeChild(u),t=document.getElementById("settings-bar"),e=t.querySelector(".full-screen"),n=document.getElementById("game-area"),l=n.querySelector("canvas"),i=new a(n.querySelector(".alert")),s=n.getAttribute("data-jzt-world"),r=new jzt.Game({canvasElement:l,notificationListeners:[i],onLoadCallback:function(e){e?(r.run("/assets/data/jzt/"+s+".json"),r.observeSettings(new c(t))):(document.getElementById("unsupported-browser").style.display="block",l.parentNode.removeChild(l))}}),t.classList.remove("inactive"),d()?m(e,n):(e=e.parentNode).parentNode.removeChild(e)})},{"./fullscreen":1,"./highscore":2,"./settings":4}],4:[function(e,t,n){"use strict";function l(e){var t=this;if(!(this instanceof l))throw"Settings must be constructed with new";this.listenerCallbacks=[],this.audioMuteElement=e.querySelector(".mute"),this.audioVolumeElement=e.querySelector("input[name='audio-volume']"),this.languageElement=e.querySelector("select[name='language']"),this.audioMuteElement&&this.audioMuteElement.addEventListener("click",function(e){e=e.target.closest(".button");e.classList.toggle("active"),t.notify({audioMute:e.classList.contains("active")})}),this.audioVolumeElement&&this.audioVolumeElement.addEventListener("change",function(e){t.notify({audioVolume:parseFloat(e.target.value)/10})}),this.languageElement&&this.languageElement.addEventListener("change",function(e){t.notify({language:e.target.value})})}l.prototype.addListener=function(e){this.listenerCallbacks.push(e)},l.prototype.notify=function(e){for(var t=0;t<this.listenerCallbacks.length;t+=1)this.listenerCallbacks[t](e)},l.prototype.initialize=function(e){e.audioActive?(this.audioMuteElement&&(e.audioMute?this.audioMuteElement.classList.add("active"):this.audioMuteElement.classList.remove("active")),this.audioVolumeElement&&(this.audioVolumeElement.value=10*e.audioVolume)):(this.audioMuteElement&&this.audioMuteElement.classList.add("active"),this.audioVolumeElement&&(this.audioVolumeElement.disabled=!0)),this.languageElement&&(this.languageElement.value=e.language)},n.Settings=l},{}]},{},[3]);
